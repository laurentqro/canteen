- content_for :sidebar do
  %h2= "Edit #{resource_name.to_s.humanize}"

  = form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put }) do |f|
    = devise_error_messages!

    = f.label :email
    = f.email_field :email, :autofocus => true

    - if devise_mapping.confirmable? && resource.pending_reconfirmation?
      %div
        Currently waiting confirmation for: #{resource.unconfirmed_email}

    = f.label :first_name
    %br
    = f.text_field :first_name
    %br
    = f.label :last_name
    %br
    = f.text_field :last_name
    %br
    = f.label :avatar
    %br
    = f.text_field :avatar
    %br
    = f.label :bio
    %br
    = f.text_area :bio
    %br
    = f.label :role
    %br
    = f.text_field :role
    %br

    = f.label :password
    <em>(leave blank if you don't want to change it)</em>

    = f.password_field :password, :autocomplete => "off"

    = f.label :password_confirmation
    = f.password_field :password_confirmation

    = f.label :current_password
    <em>(we need your current password to confirm your changes)</em>

    = f.password_field :current_password

    = f.submit "Update"

  %h3 Cancel my account

  %p Unhappy?
    = button_to "Cancel my account", registration_path(resource_name), :data => { :confirm => "Are you sure?" }, :method => :delete

  = link_to "Back", :back

= render partial: 'feeds/feed', collection: @feeds